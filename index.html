<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>barter9911.mn ‚Äî –ë–∞—Ä—Ç–µ—Ä –∑–∞—Ä—ã–Ω –∑–∞—Ö</title>
  <meta name="description" content="–ú–∞—à–∏–Ω, –±–∞–π—Ä, –≥–∞–∑–∞—Ä, —Ç–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂–∏–π–Ω –±–∞—Ä—Ç–µ—Ä –∑–∞—Ä. –ë–∞—Ä—Ç–µ—Ä + –±—ç–ª—ç–Ω –º”©–Ω–≥”©–Ω–∏–π –∑”©—Ä“Ø“Ø —Ç–æ—Ö–∏—Ä–æ–ª—Ü–æ–Ω–æ." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="web/styles.css" />
</head>
<body>

<header class="topbar">
  <div class="container topbar__inner">
    <a class="brand" href="./">
      <span class="brand__logo">B</span>
      <span class="brand__text"><b>barter9911</b><small>.mn</small></span>
    </a>
    <nav class="nav">
      <a class="nav__link is-active" href="./">–ù“Ø“Ø—Ä</a>
      <a class="nav__link" href="listings.html">–ó–∞—Ä—É—É–¥</a>
      <a class="nav__link" href="add.html">–ó–∞—Ä –Ω—ç–º—ç—Ö</a>
      <a class="nav__link" href="admin.html">–ê–¥–º–∏–Ω</a>
    </nav>
    <div class="topbar__actions">
      <button class="btn btn--ghost" id="btnTheme" type="button">üåì</button>
      <a class="btn btn--primary" href="listings.html">–ó–∞—Ä—É—É–¥ “Ø–∑—ç—Ö</a>
    </div>
  </div>
</header>

<main class="container">
  <div class="pageHead">
    <div>
      <h1>–û–Ω—Ü–ª–æ—Ö & –°“Ø“Ø–ª–∏–π–Ω –∑–∞—Ä—É—É–¥</h1>
      <div class="muted">Firestore live ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç</div>
    </div>
    <span class="badge" id="statTotal">0 –∑–∞—Ä</span>
  </div>

  <div class="layout">
    <aside class="panel">
      <div class="panel__title">üî• –û–Ω—Ü–ª–æ—Ö</div>
      <div class="panel__body" id="featured">
        <div class="muted">–ê—á–∞–∞–ª–∂ –±–∞–π–Ω–∞...</div>
      </div>
      <div class="panel__body" style="padding-top:0">
        <a class="btn btn--ghost" href="listings.html">–ë“Ø—Ö –∑–∞—Ä ‚Üí</a>
      </div>
    </aside>

    <section>
      <div class="panel">
        <div class="panel__title">–°“Ø“Ø–ª–∏–π–Ω –Ω—ç–º—ç–≥–¥—Å—ç–Ω</div>
        <div class="panel__body">
          <div class="grid" id="grid"></div>
          <div class="loadRow">
            <a class="btn btn--ghost" href="listings.html">–ò–ª“Ø“Ø “Ø–∑—ç—Ö</a>
          </div>
        </div>
      </div>
    </section>
  </div>
</main>

<!-- Detail Modal (same as listings) -->
<div class="modal" id="modal" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>
  <div class="modal__card" role="dialog" aria-modal="true">
    <button class="modal__x" type="button" data-close>‚úï</button>
    <div class="modal__media"><img id="mImg" alt=""></div>
    <div class="modal__body">
      <div class="modal__meta">
        <span class="tag" id="mCat">–ê–Ω–≥–∏–ª–∞–ª</span>
        <span class="muted" id="mDate">‚Äî</span>
      </div>
      <h3 id="mTitle">‚Äî</h3>
      <p class="muted" id="mDesc">‚Äî</p>
      <div class="priceRow">
        <div class="price"><span>–ë–∞—Ä—Ç–µ—Ä “Ø–Ω—ç</span><b id="mBarter">‚Äî</b></div>
        <div class="price"><span>–ë—ç–ª—ç–Ω –º”©–Ω–≥”©</span><b id="mCash">‚Äî</b></div>
      </div>
      <div class="modal__actions">
        <a class="btn btn--primary" id="mCall" href="#">–•–æ–ª–±–æ–æ –±–∞—Ä–∏—Ö</a>
        <button class="btn btn--ghost" type="button" data-close>–•–∞–∞—Ö</button>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script type="module" src="home.js"></script>
<script>
  const saved = localStorage.getItem("theme");
  if (saved === "light") document.documentElement.setAttribute("data-theme", "light");
  document.getElementById("btnTheme")?.addEventListener("click", ()=>{
    const cur = document.documentElement.getAttribute("data-theme");
    const next = cur === "light" ? "" : "light";
    if (next) document.documentElement.setAttribute("data-theme", next);
    else document.documentElement.removeAttribute("data-theme");
    localStorage.setItem("theme", next || "dark");
  });
</script>
</body>
</html>
