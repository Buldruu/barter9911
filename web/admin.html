<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ê–¥–º–∏–Ω —Å–∞–º–±–∞—Ä ‚Äî barter9911.mn</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="topbar">
  <div class="container topbar__inner">
    <a class="brand" href="./">
      <span class="brand__logo">B</span>
      <span class="brand__text"><b>barter9911</b><small>.mn</small></span>
    </a>
    <nav class="nav">
      <a class="nav__link" href="./">–ù“Ø“Ø—Ä</a>
      <a class="nav__link" href="listings.html">–ó–∞—Ä—É—É–¥</a>
      <a class="nav__link" href="add.html">–ó–∞—Ä –Ω—ç–º—ç—Ö</a>
      <a class="nav__link is-active" href="admin.html">–ê–¥–º–∏–Ω</a>
    </nav>
    <div class="topbar__actions">
      <button class="btn btn--ghost" id="btnTheme" type="button">üåì</button>
      <button class="btn btn--ghost" id="btnLogout" type="button">–ì–∞—Ä–∞—Ö</button>
      <a class="btn btn--primary" href="add.html">+ –ó–∞—Ä –Ω—ç–º—ç—Ö</a>
    </div>
  </div>
</header>

<main class="container">
  <div class="pageHead">
    <div>
      <h1>–ê–¥–º–∏–Ω —Å–∞–º–±–∞—Ä</h1>
      <div class="muted" id="who">‚Äî</div>
    </div>
    <span class="badge" id="count">0</span>
  </div>

  <div class="panel">
    <div class="panel__title">–ó–∞—Ä—É—É–¥ (CRUD)</div>
    <div class="panel__body">
      <div class="row" style="margin-bottom:10px">
        <input class="input" id="q" placeholder="–•–∞–π—Ö..." style="max-width:360px">
        <select class="select" id="cat" style="max-width:220px">
          <option value="">–ë“Ø—Ö –∞–Ω–≥–∏–ª–∞–ª</option>
          <option value="–ê–≤—Ç–æ–º–∞—à–∏–Ω">–ê–≤—Ç–æ–º–∞—à–∏–Ω</option>
          <option value="–û—Ä–æ–Ω —Å—É—É—Ü">–û—Ä–æ–Ω —Å—É—É—Ü</option>
          <option value="–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π">–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π</option>
          <option value="–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂">–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂</option>
          <option value="–ë–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
          <option value="–ë—É—Å–∞–¥">–ë—É—Å–∞–¥</option>
        </select>
        <button class="btn btn--ghost" id="btnRefresh" type="button">–®–∏–Ω—ç—á–ª—ç—Ö</button>
      </div>

      <div class="tableWrap">
        <table>
          <thead>
            <tr>
              <th>–ó—É—Ä–∞–≥</th>
              <th>–ì–∞—Ä—á–∏–≥</th>
              <th>–ê–Ω–≥–∏–ª–∞–ª</th>
              <th>“Æ–Ω—ç</th>
              <th>–•–æ–ª–±–æ–æ</th>
              <th>“Æ–π–ª–¥—ç–ª</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <div class="loadRow">
        <button class="btn btn--ghost" id="btnMore" type="button">–î–∞—Ä–∞–∞–≥–∏–π–Ω —Ö—É—É–¥–∞—Å</button>
      </div>
    </div>
  </div>
</main>

<!-- Edit Modal -->
<div class="modal" id="editModal" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>
  <div class="modal__card" role="dialog" aria-modal="true">
    <button class="modal__x" type="button" data-close>‚úï</button>
    <div class="modal__media">
      <img id="eImg" alt="">
    </div>
    <div class="modal__body">
      <div class="modal__meta">
        <span class="tag">–ó–∞—Å–∞—Ö</span>
        <span class="muted" id="eId">‚Äî</span>
      </div>

      <form id="editForm">
        <div class="field">
          <label class="label">–ì–∞—Ä—á–∏–≥</label>
          <input class="input" name="title" required>
        </div>
        <div class="field">
          <label class="label">–¢–∞–π–ª–±–∞—Ä</label>
          <textarea class="textarea" name="description" required></textarea>
        </div>

        <div class="row">
          <div class="field">
            <label class="label">–ê–Ω–≥–∏–ª–∞–ª</label>
            <select class="select" name="category" required>
              <option value="–ê–≤—Ç–æ–º–∞—à–∏–Ω">–ê–≤—Ç–æ–º–∞—à–∏–Ω</option>
              <option value="–û—Ä–æ–Ω —Å—É—É—Ü">–û—Ä–æ–Ω —Å—É—É—Ü</option>
              <option value="–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π">–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π</option>
              <option value="–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂">–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂</option>
              <option value="–ë–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
              <option value="–ë—É—Å–∞–¥">–ë—É—Å–∞–¥</option>
            </select>
          </div>
          <div class="field">
            <label class="label">–£—Ç–∞—Å</label>
            <input class="input" name="phone" required>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label class="label">–ë–∞—Ä—Ç–µ—Ä (‚ÇÆ)</label>
            <input class="input" name="barterPrice" type="number" min="0" required>
          </div>
          <div class="field">
            <label class="label">–ë—ç–ª—ç–Ω (‚ÇÆ)</label>
            <input class="input" name="cashPrice" type="number" min="0" required>
          </div>
        </div>

        <div class="field">
          <label class="label">–®–∏–Ω—ç –∑—É—Ä–∞–≥ (—Å–æ–Ω–≥–æ–ª—Ç—Ç–æ–π)</label>
          <input class="input" name="image" type="file" accept="image/*">
          <div class="muted" style="margin-top:6px;font-size:12px">–•–æ–æ—Å–æ–Ω –±–æ–ª —Ö—É—É—á–∏–Ω –∑—É—Ä–∞–≥ —Ö—ç–≤—ç—ç—Ä “Ø–ª–¥—ç–Ω—ç.</div>
        </div>

        <div class="modal__actions">
          <button class="btn btn--primary" id="btnSave" type="submit">–•–∞–¥–≥–∞–ª–∞—Ö</button>
          <button class="btn btn--ghost" type="button" data-close>–ë–æ–ª–∏—Ö</button>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script type="module" src="admin.js"></script>
<script>
  const saved = localStorage.getItem("theme");
  if (saved === "light") document.documentElement.setAttribute("data-theme", "light");
  document.getElementById("btnTheme")?.addEventListener("click", ()=>{
    const cur = document.documentElement.getAttribute("data-theme");
    const next = cur === "light" ? "" : "light";
    if (next) document.documentElement.setAttribute("data-theme", next);
    else document.documentElement.removeAttribute("data-theme");
    localStorage.setItem("theme", next || "dark");
  });
</script>
</body>
</html>
