<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ó–∞—Ä—É—É–¥ ‚Äî barter9911.mn</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="topbar">
  <div class="container topbar__inner">
    <a class="brand" href="./">
      <span class="brand__logo">B</span>
      <span class="brand__text"><b>barter9911</b><small>.mn</small></span>
    </a>
    <nav class="nav">
      <a class="nav__link" href="./">–ù“Ø“Ø—Ä</a>
      <a class="nav__link is-active" href="listings.html">–ó–∞—Ä—É—É–¥</a>
      <a class="nav__link" href="add.html">–ó–∞—Ä –Ω—ç–º—ç—Ö</a>
    </nav>
    <div class="topbar__actions">
      <button class="btn btn--ghost" id="btnTheme" type="button">üåì</button>
      <a class="btn btn--ghost" href="login.html">–ê–¥–º–∏–Ω</a>
      <a class="btn btn--primary" href="add.html">+ –ó–∞—Ä –Ω—ç–º—ç—Ö</a>
    </div>
  </div>
</header>

<main class="container">
  <div class="pageHead">
    <div>
      <h1>–ó–∞—Ä—É—É–¥</h1>
      <div class="muted">Firestore live listings ‚Äî –±–æ–¥–∏—Ç–æ–æ—Ä —à–∏–Ω—ç—á–ª—ç–≥–¥—ç–Ω—ç</div>
    </div>
    <span class="badge" id="countBadge">0 “Ø—Ä –¥“Ø–Ω</span>
  </div>

  <div class="layout">
    <aside class="panel">
      <div class="panel__title">–§–∏–ª—å—Ç–µ—Ä</div>
      <div class="panel__body">
        <div class="field">
          <label class="label">–•–∞–π–ª—Ç</label>
          <input class="input" id="q" placeholder="–∂: Land Cruiser, 2 ”©—Ä”©”©, —ç–∫—Å–∫–∞–≤–∞—Ç–æ—Ä" />
          <div class="muted" style="margin-top:6px;font-size:12px">
            –¢–∞–π–ª–±–∞—Ä: –•–∞–π–ª—Ç –Ω—å —Ç–∞—Ç—Å–∞–Ω ”©–≥”©–≥–¥”©–ª –¥—ç—ç—Ä client-side —Ö–∏–π–≥–¥—ç–Ω—ç.
          </div>
        </div>

        <div class="field">
          <label class="label">–ê–Ω–≥–∏–ª–∞–ª</label>
          <select class="select" id="cat">
            <option value="">–ë“Ø—Ö –∞–Ω–≥–∏–ª–∞–ª</option>
            <option value="–ê–≤—Ç–æ–º–∞—à–∏–Ω">–ê–≤—Ç–æ–º–∞—à–∏–Ω</option>
            <option value="–û—Ä–æ–Ω —Å—É—É—Ü">–û—Ä–æ–Ω —Å—É—É—Ü</option>
            <option value="–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π">–ì–∞–∑—Ä—ã–Ω —Ç–∞–ª–±–∞–π</option>
            <option value="–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂">–¢–æ–Ω–æ–≥ —Ç”©—Ö”©”©—Ä”©–º–∂</option>
            <option value="–ë–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
            <option value="–ë—É—Å–∞–¥">–ë—É—Å–∞–¥</option>
          </select>
        </div>

        <div class="field">
          <label class="label">–≠—Ä—ç–º–±—ç–ª—ç—Ö</label>
          <select class="select" id="sort">
            <option value="new">–®–∏–Ω—ç—ç—Ä –Ω—ç–º—ç–≥–¥—Å—ç–Ω</option>
            <option value="barterHigh">–ë–∞—Ä—Ç–µ—Ä: ”©–Ω–¥”©—Ä ‚Üí –±–∞–≥–∞</option>
            <option value="barterLow">–ë–∞—Ä—Ç–µ—Ä: –±–∞–≥–∞ ‚Üí ”©–Ω–¥”©—Ä</option>
            <option value="cashHigh">–ë—ç–ª—ç–Ω: ”©–Ω–¥”©—Ä ‚Üí –±–∞–≥–∞</option>
            <option value="cashLow">–ë—ç–ª—ç–Ω: –±–∞–≥–∞ ‚Üí ”©–Ω–¥”©—Ä</option>
          </select>
        </div>

        <div class="row">
          <button class="btn btn--ghost" id="btnReset" type="button">–¶—ç–≤—ç—Ä–ª—ç—Ö</button>
          <button class="btn btn--primary" id="btnApply" type="button">–•—ç—Ä—ç–≥–∂“Ø“Ø–ª—ç—Ö</button>
        </div>
      </div>
    </aside>

    <section>
      <div class="grid" id="grid"></div>
      <div class="loadRow">
        <button class="btn btn--ghost" id="btnMore" type="button">–î–∞—Ä–∞–∞–≥–∏–π–Ω —Ö—É—É–¥–∞—Å</button>
      </div>
    </section>
  </div>
</main>

<div class="modal" id="modal" aria-hidden="true">
  <div class="modal__backdrop" data-close></div>
  <div class="modal__card" role="dialog" aria-modal="true">
    <button class="modal__x" type="button" data-close>‚úï</button>
    <div class="modal__media"><img id="mImg" alt=""></div>
    <div class="modal__body">
      <div class="modal__meta">
        <span class="tag" id="mCat">–ê–Ω–≥–∏–ª–∞–ª</span>
        <span class="muted" id="mDate">‚Äî</span>
      </div>
      <h3 id="mTitle">‚Äî</h3>
      <p class="muted" id="mDesc">‚Äî</p>
      <div class="priceRow">
        <div class="price"><span>–ë–∞—Ä—Ç–µ—Ä “Ø–Ω—ç</span><b id="mBarter">‚Äî</b></div>
        <div class="price"><span>–ë—ç–ª—ç–Ω –º”©–Ω–≥”©</span><b id="mCash">‚Äî</b></div>
      </div>
      <div class="modal__actions">
        <a class="btn btn--primary" id="mCall" href="#">–•–æ–ª–±–æ–æ –±–∞—Ä–∏—Ö</a>
        <button class="btn btn--ghost" type="button" data-close>–•–∞–∞—Ö</button>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script type="module" src="listings.js"></script>
<script>
  // theme
  const saved = localStorage.getItem("theme");
  if (saved === "light") document.documentElement.setAttribute("data-theme", "light");
  document.getElementById("btnTheme")?.addEventListener("click", ()=>{
    const cur = document.documentElement.getAttribute("data-theme");
    const next = cur === "light" ? "" : "light";
    if (next) document.documentElement.setAttribute("data-theme", next);
    else document.documentElement.removeAttribute("data-theme");
    localStorage.setItem("theme", next || "dark");
  });
</script>
</body>
</html>
